<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CrisisLens – Verify Before You Share</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            dark: "#0a192f",
            card: "#112240",
            accent: "#fbbf24",
            danger: "#ef4444",
            muted: "#94a3b8"
          },
          fontFamily: {
            inter: ["Inter", "sans-serif"]
          }
        }
      }
    }
  </script>
</head>

<body class="bg-dark text-white font-inter min-h-screen">

<header class="border-b border-white/10 p-4">
  <div class="max-w-6xl mx-auto flex justify-between items-center">
    <h1 class="text-xl font-bold">
      Crisis<span class="text-accent">Lens</span>
    </h1>
    <span class="text-sm text-muted">Verify Before You Share</span>
  </div>
</header>

<main class="max-w-4xl mx-auto px-4 py-12">

  <section class="text-center mb-12">
    <h2 class="text-4xl font-bold mb-3">
      Verify News <span class="text-accent">Before</span> You Share
    </h2>
    <p class="text-muted text-lg">
      Instant credibility check during crisis & emergencies
    </p>
  </section>

  <section class="bg-card rounded-xl p-8 shadow-lg mb-12">
    <h3 class="text-xl font-semibold mb-2">Check News Credibility</h3>
    <p class="text-muted mb-4">Paste breaking news, WhatsApp forward, or link</p>

    <textarea
      id="newsInput"
      rows="5"
      placeholder="Paste news text or link here..."
      class="w-full p-4 rounded-lg bg-dark border border-white/10 focus:outline-none focus:border-accent mb-6"
    ></textarea>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-sm">
      <div class="bg-dark p-3 rounded-lg">✅ Source Check</div>
      
      <div class="bg-dark p-3 rounded-lg">⏱️ Context Check</div>
    </div>

    <div class="text-center text-muted text-sm mb-6">
      Paste → Analyze Rules → Score → Recommendation
    </div>

    <div class="text-center">
      <button onclick="analyze()"
        class="bg-accent text-dark font-bold px-8 py-3 rounded-lg hover:scale-105 transition">
        Analyze News
      </button>
    </div>
  </section>

  <!-- RESULT -->
  <section id="result" class="hidden bg-card rounded-xl p-8 shadow-lg">
    <div class="flex justify-between items-center mb-6">
      <h3 class="text-xl font-semibold">Credibility Result</h3>
      <span id="score" class="text-3xl font-bold">--</span>
    </div>

    <div class="space-y-4 mb-6">
      <div>
        <div class="flex justify-between text-sm mb-1">
          <span>Source Reliability</span><span id="s1">--</span>
        </div>
        <div class="h-2 bg-dark rounded">
          <div id="b1" class="h-2 rounded"></div>
        </div>
      </div>

      <div>
        <div class="flex justify-between text-sm mb-1">
          <span>Content Consistency</span><span id="s2">--</span>
        </div>
        <div class="h-2 bg-dark rounded">
          <div id="b2" class="h-2 rounded"></div>
        </div>
      </div>

      <div>
        <div class="flex justify-between text-sm mb-1">
          <span>Cross Verification</span><span id="s3">--</span>
        </div>
        <div class="h-2 bg-dark rounded">
          <div id="b3" class="h-2 rounded"></div>
        </div>
      </div>
    </div>

    <div id="statusBox" class="p-4 rounded-lg">
      <p id="statusText" class="font-semibold mb-2"></p>
      <ul id="reasons" class="text-sm text-muted space-y-1"></ul>
    </div>
  </section>

</main>

<script>
function analyze() {
  const text = document.getElementById("newsInput").value.toLowerCase();
  if (!text) return alert("Paste some news first");

  const redFlags = [
    "breaking",
    "share immediately",
    "secret",
    "lockdown",
    "internet shutdown",
    "government insiders",
    "urgent"
  ];

  let hits = redFlags.filter(w => text.includes(w));

  const fake = hits.length >= 2;

  document.getElementById("result").classList.remove("hidden");

  if (fake) {
    setResult(35, 40, 30, 35, "⚠️ Use Caution", hits, "danger");
  } else {
    setResult(85, 90, 85, 80, "✅ Safe to Share", [], "accent");
  }

  window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
}

function setResult(total, s1, s2, s3, status, flags, color) {
  document.getElementById("score").innerText = total + "%";
  document.getElementById("score").className = `text-3xl font-bold text-${color}`;

  setBar("b1", "s1", s1, color);
  setBar("b2", "s2", s2, color);
  setBar("b3", "s3", s3, color);

  document.getElementById("statusText").innerText = "Status: " + status;
  document.getElementById("statusBox").className = `p-4 rounded-lg bg-${color}/10`;

  const list = document.getElementById("reasons");
  list.innerHTML = flags.length
    ? flags.map(f => `<li>⚠️ Trigger word: "${f}"</li>`).join("")
    : "<li>✔ No major red flags detected</li>";
}

function setBar(bar, label, value, color) {
  document.getElementById(label).innerText = value + "%";
  const el = document.getElementById(bar);
  el.style.width = value + "%";
  el.className = `h-2 rounded bg-${color}`;
}
</script>

</body>
</html>
